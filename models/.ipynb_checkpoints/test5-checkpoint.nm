// Global variables for places
global STAGE : [0..5] init 0;

// Place value variables
global choice4_false8_value : [-1..2] init -1;
global choice4_true7_value : [-1..0] init -1;
global end1_value : [-1..0] init -1;
global nature5_false10_value : [-1..2] init -1;
global nature5_true9_value : [-1..4] init -1;
global par1_first_end3_value : [-1..0] init -1;
global par1_first_start5_value : [-1..3] init -1;
global par1_second_end4_value : [-1..0] init -1;
global par1_second_start6_value : [-1..2] init -1;
global seq0_mid2_value : [-1..0] init -1;
global seq8_mid11_value : [-1..1] init -1;
global start0_value : [-1..0] init 0;

// Place updated variables
global choice4_false8_updated : [0..1] init 0;
global choice4_true7_updated : [0..1] init 0;
global end1_updated : [0..1] init 0;
global nature5_false10_updated : [0..1] init 0;
global nature5_true9_updated : [0..1] init 0;
global par1_first_end3_updated : [0..1] init 0;
global par1_first_start5_updated : [0..1] init 0;
global par1_second_end4_updated : [0..1] init 0;
global par1_second_start6_updated : [0..1] init 0;
global seq0_mid2_updated : [0..1] init 0;
global seq8_mid11_updated : [0..1] init 0;
global start0_updated : [0..1] init 0;

// Formulas
formula is_active_choice44 = (seq0_mid2_value >= 0);
formula is_active_merge11 = (par1_first_end3_value >= 0) & (par1_second_end4_value >= 0);
formula is_active_nature55 = (choice4_true7_value >= 0);
formula is_active_split10 = (start0_value >= 0);
formula is_active_task109 = (seq8_mid11_value >= 1);
formula is_active_task22 = (par1_first_start5_value >= 3);
formula is_active_task33 = (par1_second_start6_value >= 2);
formula is_active_task66 = (nature5_true9_value >= 4);
formula is_active_task77 = (nature5_false10_value >= 2);
formula is_active_task98 = (choice4_false8_value >= 2);
formula psi_at_least_one_remaining_duration = (choice4_false8_value >= 0 & choice4_false8_value < 2) | (choice4_true7_value >= 0 & choice4_true7_value < 0) | (end1_value >= 0 & end1_value < 0) | (nature5_false10_value >= 0 & nature5_false10_value < 2) | (nature5_true9_value >= 0 & nature5_true9_value < 4) | (par1_first_end3_value >= 0 & par1_first_end3_value < 0) | (par1_first_start5_value >= 0 & par1_first_start5_value < 3) | (par1_second_end4_value >= 0 & par1_second_end4_value < 0) | (par1_second_start6_value >= 0 & par1_second_start6_value < 2) | (seq0_mid2_value >= 0 & seq0_mid2_value < 0) | (seq8_mid11_value >= 0 & seq8_mid11_value < 1) | (start0_value >= 0 & start0_value < 0);
formula psi_step = (!is_active_choice44 & !is_active_merge11 & !is_active_nature55 & !is_active_split10 & !is_active_task109 & !is_active_task22 & !is_active_task33 & !is_active_task66 & !is_active_task77 & !is_active_task98) & psi_at_least_one_remaining_duration;
formula step_updated_choice4_false8 = choice4_false8_updated=0;
formula step_updated_choice4_true7 = choice4_true7_updated=0 & choice4_false8_updated=1;
formula step_updated_end1 = end1_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1;
formula step_updated_nature5_false10 = nature5_false10_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1;
formula step_updated_nature5_true9 = nature5_true9_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1;
formula step_updated_par1_first_end3 = par1_first_end3_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1;
formula step_updated_par1_first_start5 = par1_first_start5_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1;
formula step_updated_par1_second_end4 = par1_second_end4_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1;
formula step_updated_par1_second_start6 = par1_second_start6_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1 & par1_second_end4_updated=1;
formula step_updated_seq0_mid2 = seq0_mid2_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1 & par1_second_end4_updated=1 & par1_second_start6_updated=1;
formula step_updated_seq8_mid11 = seq8_mid11_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1 & par1_second_end4_updated=1 & par1_second_start6_updated=1 & seq0_mid2_updated=1;
formula step_updated_start0 = start0_updated=0 & choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1 & par1_second_end4_updated=1 & par1_second_start6_updated=1 & seq0_mid2_updated=1 & seq8_mid11_updated=1;
formula psi_all_step_updated = choice4_false8_updated=1 & choice4_true7_updated=1 & end1_updated=1 & nature5_false10_updated=1 & nature5_true9_updated=1 & par1_first_end3_updated=1 & par1_first_start5_updated=1 & par1_second_end4_updated=1 & par1_second_start6_updated=1 & seq0_mid2_updated=1 & seq8_mid11_updated=1 & start0_updated=1;
formula step_not_updated_choice4_false8 = choice4_false8_updated=1;
formula step_not_updated_choice4_true7 = choice4_true7_updated=1 & choice4_false8_updated=0;
formula step_not_updated_end1 = end1_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0;
formula step_not_updated_nature5_false10 = nature5_false10_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0;
formula step_not_updated_nature5_true9 = nature5_true9_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0;
formula step_not_updated_par1_first_end3 = par1_first_end3_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0;
formula step_not_updated_par1_first_start5 = par1_first_start5_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0;
formula step_not_updated_par1_second_end4 = par1_second_end4_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0;
formula step_not_updated_par1_second_start6 = par1_second_start6_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0 & par1_second_end4_updated=0;
formula step_not_updated_seq0_mid2 = seq0_mid2_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0 & par1_second_end4_updated=0 & par1_second_start6_updated=0;
formula step_not_updated_seq8_mid11 = seq8_mid11_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0 & par1_second_end4_updated=0 & par1_second_start6_updated=0 & seq0_mid2_updated=0;
formula step_not_updated_start0 = start0_updated=1 & choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0 & par1_second_end4_updated=0 & par1_second_start6_updated=0 & seq0_mid2_updated=0 & seq8_mid11_updated=0;
formula psi_all_step_not_updated = choice4_false8_updated=0 & choice4_true7_updated=0 & end1_updated=0 & nature5_false10_updated=0 & nature5_true9_updated=0 & par1_first_end3_updated=0 & par1_first_start5_updated=0 & par1_second_end4_updated=0 & par1_second_start6_updated=0 & seq0_mid2_updated=0 & seq8_mid11_updated=0 & start0_updated=0;
formula psi_idle_choice44 = !psi_step & choice44_state=0;
formula psi_idle_merge11 = !psi_step & merge11_state=0 & choice44_state!=0;
formula psi_idle_nature55 = !psi_step & nature55_state=0 & choice44_state!=0 & merge11_state!=0;
formula psi_idle_split10 = !psi_step & split10_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0;
formula psi_idle_task109 = !psi_step & task109_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0;
formula psi_idle_task22 = !psi_step & task22_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0;
formula psi_idle_task33 = !psi_step & task33_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0 & task22_state!=0;
formula psi_idle_task66 = !psi_step & task66_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0 & task22_state!=0 & task33_state!=0;
formula psi_idle_task77 = !psi_step & task77_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0 & task22_state!=0 & task33_state!=0 & task66_state!=0;
formula psi_idle_task98 = !psi_step & task98_state=0 & choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0 & task22_state!=0 & task33_state!=0 & task66_state!=0 & task77_state!=0;
formula psi_first_but_nature_not_idle_choice44 = choice44_state!=0;
formula psi_first_but_nature_not_idle_merge11 = merge11_state!=0 & choice44_state=0;
formula psi_first_but_nature_not_idle_split10 = split10_state!=0 & choice44_state=0 & merge11_state=0;
formula psi_first_but_nature_not_idle_task109 = task109_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0;
formula psi_first_but_nature_not_idle_task22 = task22_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0;
formula psi_first_but_nature_not_idle_task33 = task33_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0 & task22_state=0;
formula psi_first_but_nature_not_idle_task66 = task66_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0 & task22_state=0 & task33_state=0;
formula psi_first_but_nature_not_idle_task77 = task77_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0 & task22_state=0 & task33_state=0 & task66_state=0;
formula psi_first_but_nature_not_idle_task98 = task98_state!=0 & choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0 & task22_state=0 & task33_state=0 & task66_state=0 & task77_state=0;
formula psi_first_nature_not_idle_nature55 = nature55_state!=0;
formula psi_all_idle_but_nature = choice44_state=0 & merge11_state=0 & split10_state=0 & task109_state=0 & task22_state=0 & task33_state=0 & task66_state=0 & task77_state=0 & task98_state=0;
formula psi_all_idle_nature = nature55_state=0;
formula psi_noone_idle = choice44_state!=0 & merge11_state!=0 & nature55_state!=0 & split10_state!=0 & task109_state!=0 & task22_state!=0 & task33_state!=0 & task66_state!=0 & task77_state!=0 & task98_state!=0;
formula psi_atleastone_active = is_active_choice44 | is_active_merge11 | is_active_nature55 | is_active_split10 | is_active_task109 | is_active_task22 | is_active_task33 | is_active_task66 | is_active_task77 | is_active_task98;

// State Labels for Simulator
label "psi_step" = psi_step;
label "psi_at_least_one_remaining_duration" = psi_at_least_one_remaining_duration;
label "psi_all_step_updated" = psi_all_step_updated;
label "psi_all_step_not_updated" = psi_all_step_not_updated;
label "psi_noone_idle" = psi_noone_idle;
label "psi_atleastone_active" = psi_atleastone_active;
label "psi_idle_choice44" = psi_idle_choice44;
label "psi_idle_merge11" = psi_idle_merge11;
label "psi_idle_nature55" = psi_idle_nature55;
label "psi_idle_split10" = psi_idle_split10;
label "psi_idle_task109" = psi_idle_task109;
label "psi_idle_task22" = psi_idle_task22;
label "psi_idle_task33" = psi_idle_task33;
label "psi_idle_task66" = psi_idle_task66;
label "psi_idle_task77" = psi_idle_task77;
label "psi_idle_task98" = psi_idle_task98;
label "psi_first_but_nature_not_idle_choice44" = psi_first_but_nature_not_idle_choice44;
label "psi_first_but_nature_not_idle_merge11" = psi_first_but_nature_not_idle_merge11;
label "psi_first_but_nature_not_idle_split10" = psi_first_but_nature_not_idle_split10;
label "psi_first_but_nature_not_idle_task109" = psi_first_but_nature_not_idle_task109;
label "psi_first_but_nature_not_idle_task22" = psi_first_but_nature_not_idle_task22;
label "psi_first_but_nature_not_idle_task33" = psi_first_but_nature_not_idle_task33;
label "psi_first_but_nature_not_idle_task66" = psi_first_but_nature_not_idle_task66;
label "psi_first_but_nature_not_idle_task77" = psi_first_but_nature_not_idle_task77;
label "psi_first_but_nature_not_idle_task98" = psi_first_but_nature_not_idle_task98;
label "psi_first_nature_not_idle_nature55" = psi_first_nature_not_idle_nature55;
label "psi_all_idle_but_nature" = psi_all_idle_but_nature;
label "psi_all_idle_nature" = psi_all_idle_nature;
label "step_updated_choice4_false8" = step_updated_choice4_false8;
label "step_not_updated_choice4_false8" = step_not_updated_choice4_false8;
label "step_updated_choice4_true7" = step_updated_choice4_true7;
label "step_not_updated_choice4_true7" = step_not_updated_choice4_true7;
label "step_updated_end1" = step_updated_end1;
label "step_not_updated_end1" = step_not_updated_end1;
label "step_updated_nature5_false10" = step_updated_nature5_false10;
label "step_not_updated_nature5_false10" = step_not_updated_nature5_false10;
label "step_updated_nature5_true9" = step_updated_nature5_true9;
label "step_not_updated_nature5_true9" = step_not_updated_nature5_true9;
label "step_updated_par1_first_end3" = step_updated_par1_first_end3;
label "step_not_updated_par1_first_end3" = step_not_updated_par1_first_end3;
label "step_updated_par1_first_start5" = step_updated_par1_first_start5;
label "step_not_updated_par1_first_start5" = step_not_updated_par1_first_start5;
label "step_updated_par1_second_end4" = step_updated_par1_second_end4;
label "step_not_updated_par1_second_end4" = step_not_updated_par1_second_end4;
label "step_updated_par1_second_start6" = step_updated_par1_second_start6;
label "step_not_updated_par1_second_start6" = step_not_updated_par1_second_start6;
label "step_updated_seq0_mid2" = step_updated_seq0_mid2;
label "step_not_updated_seq0_mid2" = step_not_updated_seq0_mid2;
label "step_updated_seq8_mid11" = step_updated_seq8_mid11;
label "step_not_updated_seq8_mid11" = step_not_updated_seq8_mid11;
label "step_updated_start0" = step_updated_start0;
label "step_not_updated_start0" = step_not_updated_start0;
label "is_active_choice44" = is_active_choice44;
label "is_active_merge11" = is_active_merge11;
label "is_active_nature55" = is_active_nature55;
label "is_active_split10" = is_active_split10;
label "is_active_task109" = is_active_task109;
label "is_active_task22" = is_active_task22;
label "is_active_task33" = is_active_task33;
label "is_active_task66" = is_active_task66;
label "is_active_task77" = is_active_task77;
label "is_active_task98" = is_active_task98;
label "stage_0" = STAGE=0;
label "stage_1" = STAGE=1;
label "stage_2" = STAGE=2;
label "stage_3" = STAGE=3;
label "stage_4" = STAGE=4;
label "stage_5" = STAGE=5;
label "state_choice44_ready" = choice44_state=1;
label "state_choice44_disabled" = choice44_state=-1;
label "state_choice44_idle" = choice44_state=0;
label "state_merge11_ready" = merge11_state=1;
label "state_merge11_disabled" = merge11_state=-1;
label "state_merge11_idle" = merge11_state=0;
label "state_nature55_ready" = nature55_state=1;
label "state_nature55_disabled" = nature55_state=-1;
label "state_nature55_idle" = nature55_state=0;
label "state_split10_ready" = split10_state=1;
label "state_split10_disabled" = split10_state=-1;
label "state_split10_idle" = split10_state=0;
label "state_task109_ready" = task109_state=1;
label "state_task109_disabled" = task109_state=-1;
label "state_task109_idle" = task109_state=0;
label "state_task22_ready" = task22_state=1;
label "state_task22_disabled" = task22_state=-1;
label "state_task22_idle" = task22_state=0;
label "state_task33_ready" = task33_state=1;
label "state_task33_disabled" = task33_state=-1;
label "state_task33_idle" = task33_state=0;
label "state_task66_ready" = task66_state=1;
label "state_task66_disabled" = task66_state=-1;
label "state_task66_idle" = task66_state=0;
label "state_task77_ready" = task77_state=1;
label "state_task77_disabled" = task77_state=-1;
label "state_task77_idle" = task77_state=0;
label "state_task98_ready" = task98_state=1;
label "state_task98_disabled" = task98_state=-1;
label "state_task98_idle" = task98_state=0;
label "place_choice4_false8_empty" = choice4_false8_value=-1;
label "place_choice4_false8_has_token" = choice4_false8_value>=0;
label "place_choice4_false8_duration_met" = choice4_false8_value>=2;
label "place_choice4_false8_can_advance" = choice4_false8_value>=0 & choice4_false8_value<2;
label "place_choice4_false8_updated" = choice4_false8_updated=1;
label "place_choice4_true7_empty" = choice4_true7_value=-1;
label "place_choice4_true7_has_token" = choice4_true7_value>=0;
label "place_choice4_true7_duration_met" = choice4_true7_value>=0;
label "place_choice4_true7_can_advance" = choice4_true7_value>=0 & choice4_true7_value<0;
label "place_choice4_true7_updated" = choice4_true7_updated=1;
label "place_end1_empty" = end1_value=-1;
label "place_end1_has_token" = end1_value>=0;
label "place_end1_duration_met" = end1_value>=0;
label "place_end1_can_advance" = end1_value>=0 & end1_value<0;
label "place_end1_updated" = end1_updated=1;
label "place_nature5_false10_empty" = nature5_false10_value=-1;
label "place_nature5_false10_has_token" = nature5_false10_value>=0;
label "place_nature5_false10_duration_met" = nature5_false10_value>=2;
label "place_nature5_false10_can_advance" = nature5_false10_value>=0 & nature5_false10_value<2;
label "place_nature5_false10_updated" = nature5_false10_updated=1;
label "place_nature5_true9_empty" = nature5_true9_value=-1;
label "place_nature5_true9_has_token" = nature5_true9_value>=0;
label "place_nature5_true9_duration_met" = nature5_true9_value>=4;
label "place_nature5_true9_can_advance" = nature5_true9_value>=0 & nature5_true9_value<4;
label "place_nature5_true9_updated" = nature5_true9_updated=1;
label "place_par1_first_end3_empty" = par1_first_end3_value=-1;
label "place_par1_first_end3_has_token" = par1_first_end3_value>=0;
label "place_par1_first_end3_duration_met" = par1_first_end3_value>=0;
label "place_par1_first_end3_can_advance" = par1_first_end3_value>=0 & par1_first_end3_value<0;
label "place_par1_first_end3_updated" = par1_first_end3_updated=1;
label "place_par1_first_start5_empty" = par1_first_start5_value=-1;
label "place_par1_first_start5_has_token" = par1_first_start5_value>=0;
label "place_par1_first_start5_duration_met" = par1_first_start5_value>=3;
label "place_par1_first_start5_can_advance" = par1_first_start5_value>=0 & par1_first_start5_value<3;
label "place_par1_first_start5_updated" = par1_first_start5_updated=1;
label "place_par1_second_end4_empty" = par1_second_end4_value=-1;
label "place_par1_second_end4_has_token" = par1_second_end4_value>=0;
label "place_par1_second_end4_duration_met" = par1_second_end4_value>=0;
label "place_par1_second_end4_can_advance" = par1_second_end4_value>=0 & par1_second_end4_value<0;
label "place_par1_second_end4_updated" = par1_second_end4_updated=1;
label "place_par1_second_start6_empty" = par1_second_start6_value=-1;
label "place_par1_second_start6_has_token" = par1_second_start6_value>=0;
label "place_par1_second_start6_duration_met" = par1_second_start6_value>=2;
label "place_par1_second_start6_can_advance" = par1_second_start6_value>=0 & par1_second_start6_value<2;
label "place_par1_second_start6_updated" = par1_second_start6_updated=1;
label "place_seq0_mid2_empty" = seq0_mid2_value=-1;
label "place_seq0_mid2_has_token" = seq0_mid2_value>=0;
label "place_seq0_mid2_duration_met" = seq0_mid2_value>=0;
label "place_seq0_mid2_can_advance" = seq0_mid2_value>=0 & seq0_mid2_value<0;
label "place_seq0_mid2_updated" = seq0_mid2_updated=1;
label "place_seq8_mid11_empty" = seq8_mid11_value=-1;
label "place_seq8_mid11_has_token" = seq8_mid11_value>=0;
label "place_seq8_mid11_duration_met" = seq8_mid11_value>=1;
label "place_seq8_mid11_can_advance" = seq8_mid11_value>=0 & seq8_mid11_value<1;
label "place_seq8_mid11_updated" = seq8_mid11_updated=1;
label "place_start0_empty" = start0_value=-1;
label "place_start0_has_token" = start0_value>=0;
label "place_start0_duration_met" = start0_value>=0;
label "place_start0_can_advance" = start0_value>=0 & start0_value<0;
label "place_start0_updated" = start0_updated=1;

module manager
  // Stage 0 -> 3: Can do step
  [] STAGE=0 & psi_step -> (STAGE'=3);
  // Stage 0 -> 2: Terminated
  [] STAGE=0 & !psi_step & psi_noone_idle & !psi_atleastone_active -> (STAGE'=2);
  // Stage 0 -> 4: Fire transitions (FIXED: added psi_noone_idle)
  [] STAGE=0 & !psi_step & psi_noone_idle & psi_atleastone_active -> (STAGE'=4);
  // Update choice4_false8
  [] STAGE=3 & step_updated_choice4_false8 & choice4_false8_value=-1 -> (choice4_false8_updated'=1);
  [] STAGE=3 & step_updated_choice4_false8 & choice4_false8_value>=0 & choice4_false8_value<2 -> (choice4_false8_value'=choice4_false8_value+1) & (choice4_false8_updated'=1);
  [] STAGE=3 & step_updated_choice4_false8 & choice4_false8_value=2 -> (choice4_false8_updated'=1);
  // Update choice4_true7
  [] STAGE=3 & step_updated_choice4_true7 & choice4_true7_value=-1 -> (choice4_true7_updated'=1);
  [] STAGE=3 & step_updated_choice4_true7 & choice4_true7_value>=0 & choice4_true7_value<0 -> (choice4_true7_value'=choice4_true7_value+1) & (choice4_true7_updated'=1);
  [] STAGE=3 & step_updated_choice4_true7 & choice4_true7_value=0 -> (choice4_true7_updated'=1);
  // Update end1
  [] STAGE=3 & step_updated_end1 & end1_value=-1 -> (end1_updated'=1);
  [] STAGE=3 & step_updated_end1 & end1_value>=0 & end1_value<0 -> (end1_value'=end1_value+1) & (end1_updated'=1);
  [] STAGE=3 & step_updated_end1 & end1_value=0 -> (end1_updated'=1);
  // Update nature5_false10
  [] STAGE=3 & step_updated_nature5_false10 & nature5_false10_value=-1 -> (nature5_false10_updated'=1);
  [] STAGE=3 & step_updated_nature5_false10 & nature5_false10_value>=0 & nature5_false10_value<2 -> (nature5_false10_value'=nature5_false10_value+1) & (nature5_false10_updated'=1);
  [] STAGE=3 & step_updated_nature5_false10 & nature5_false10_value=2 -> (nature5_false10_updated'=1);
  // Update nature5_true9
  [] STAGE=3 & step_updated_nature5_true9 & nature5_true9_value=-1 -> (nature5_true9_updated'=1);
  [] STAGE=3 & step_updated_nature5_true9 & nature5_true9_value>=0 & nature5_true9_value<4 -> (nature5_true9_value'=nature5_true9_value+1) & (nature5_true9_updated'=1);
  [] STAGE=3 & step_updated_nature5_true9 & nature5_true9_value=4 -> (nature5_true9_updated'=1);
  // Update par1_first_end3
  [] STAGE=3 & step_updated_par1_first_end3 & par1_first_end3_value=-1 -> (par1_first_end3_updated'=1);
  [] STAGE=3 & step_updated_par1_first_end3 & par1_first_end3_value>=0 & par1_first_end3_value<0 -> (par1_first_end3_value'=par1_first_end3_value+1) & (par1_first_end3_updated'=1);
  [] STAGE=3 & step_updated_par1_first_end3 & par1_first_end3_value=0 -> (par1_first_end3_updated'=1);
  // Update par1_first_start5
  [] STAGE=3 & step_updated_par1_first_start5 & par1_first_start5_value=-1 -> (par1_first_start5_updated'=1);
  [] STAGE=3 & step_updated_par1_first_start5 & par1_first_start5_value>=0 & par1_first_start5_value<3 -> (par1_first_start5_value'=par1_first_start5_value+1) & (par1_first_start5_updated'=1);
  [] STAGE=3 & step_updated_par1_first_start5 & par1_first_start5_value=3 -> (par1_first_start5_updated'=1);
  // Update par1_second_end4
  [] STAGE=3 & step_updated_par1_second_end4 & par1_second_end4_value=-1 -> (par1_second_end4_updated'=1);
  [] STAGE=3 & step_updated_par1_second_end4 & par1_second_end4_value>=0 & par1_second_end4_value<0 -> (par1_second_end4_value'=par1_second_end4_value+1) & (par1_second_end4_updated'=1);
  [] STAGE=3 & step_updated_par1_second_end4 & par1_second_end4_value=0 -> (par1_second_end4_updated'=1);
  // Update par1_second_start6
  [] STAGE=3 & step_updated_par1_second_start6 & par1_second_start6_value=-1 -> (par1_second_start6_updated'=1);
  [] STAGE=3 & step_updated_par1_second_start6 & par1_second_start6_value>=0 & par1_second_start6_value<2 -> (par1_second_start6_value'=par1_second_start6_value+1) & (par1_second_start6_updated'=1);
  [] STAGE=3 & step_updated_par1_second_start6 & par1_second_start6_value=2 -> (par1_second_start6_updated'=1);
  // Update seq0_mid2
  [] STAGE=3 & step_updated_seq0_mid2 & seq0_mid2_value=-1 -> (seq0_mid2_updated'=1);
  [] STAGE=3 & step_updated_seq0_mid2 & seq0_mid2_value>=0 & seq0_mid2_value<0 -> (seq0_mid2_value'=seq0_mid2_value+1) & (seq0_mid2_updated'=1);
  [] STAGE=3 & step_updated_seq0_mid2 & seq0_mid2_value=0 -> (seq0_mid2_updated'=1);
  // Update seq8_mid11
  [] STAGE=3 & step_updated_seq8_mid11 & seq8_mid11_value=-1 -> (seq8_mid11_updated'=1);
  [] STAGE=3 & step_updated_seq8_mid11 & seq8_mid11_value>=0 & seq8_mid11_value<1 -> (seq8_mid11_value'=seq8_mid11_value+1) & (seq8_mid11_updated'=1);
  [] STAGE=3 & step_updated_seq8_mid11 & seq8_mid11_value=1 -> (seq8_mid11_updated'=1);
  // Update start0
  [] STAGE=3 & step_updated_start0 & start0_value=-1 -> (start0_updated'=1);
  [] STAGE=3 & step_updated_start0 & start0_value>=0 & start0_value<0 -> (start0_value'=start0_value+1) & (start0_updated'=1);
  [] STAGE=3 & step_updated_start0 & start0_value=0 -> (start0_updated'=1);
  // Stage 3 -> 1: All updated
  [] STAGE=3 & psi_all_step_updated -> (STAGE'=1);
  [] STAGE=1 & step_not_updated_choice4_false8 -> (choice4_false8_updated'=0);
  [] STAGE=1 & step_not_updated_choice4_true7 -> (choice4_true7_updated'=0);
  [] STAGE=1 & step_not_updated_end1 -> (end1_updated'=0);
  [] STAGE=1 & step_not_updated_nature5_false10 -> (nature5_false10_updated'=0);
  [] STAGE=1 & step_not_updated_nature5_true9 -> (nature5_true9_updated'=0);
  [] STAGE=1 & step_not_updated_par1_first_end3 -> (par1_first_end3_updated'=0);
  [] STAGE=1 & step_not_updated_par1_first_start5 -> (par1_first_start5_updated'=0);
  [] STAGE=1 & step_not_updated_par1_second_end4 -> (par1_second_end4_updated'=0);
  [] STAGE=1 & step_not_updated_par1_second_start6 -> (par1_second_start6_updated'=0);
  [] STAGE=1 & step_not_updated_seq0_mid2 -> (seq0_mid2_updated'=0);
  [] STAGE=1 & step_not_updated_seq8_mid11 -> (seq8_mid11_updated'=0);
  [] STAGE=1 & step_not_updated_start0 -> (start0_updated'=0);
  // Stage 1 -> 0: All reset
  [] STAGE=1 & psi_all_step_not_updated -> (STAGE'=0);
  [] STAGE=4 & psi_all_idle_but_nature -> (STAGE'=5);
  [] STAGE=5 & psi_all_idle_nature -> (STAGE'=0);
endmodule

module choice44
  choice44_state : [-1..1] init 0;
  // Stage 0: Activation check
  [] STAGE=0 & psi_idle_choice44 & (seq0_mid2_value >= 0) -> (choice44_state'=1);
  [] STAGE=0 & psi_idle_choice44 & !(seq0_mid2_value >= 0) -> (choice44_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_choice44 & choice44_state=-1 -> (choice44_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_choice44 & choice44_state=1 -> (choice44_state'=0) & (seq0_mid2_value'=-1) & (choice4_true7_value'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_choice44 & choice44_state=1 -> (choice44_state'=0) & (seq0_mid2_value'=-1) & (choice4_false8_value'=0);
endmodule

module merge11
  merge11_state : [-1..1] init 0;
  // Stage 0: Activation check
  [] STAGE=0 & psi_idle_merge11 & (par1_first_end3_value >= 0 & par1_second_end4_value >= 0) -> (merge11_state'=1);
  [] STAGE=0 & psi_idle_merge11 & !(par1_first_end3_value >= 0 & par1_second_end4_value >= 0) -> (merge11_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_merge11 & merge11_state=-1 -> (merge11_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_merge11 & merge11_state=1 -> (merge11_state'=0) & (par1_first_end3_value'=-1) & (par1_second_end4_value'=-1) & (seq0_mid2_value'=0);
endmodule

module nature55
  nature55_state : [-1..1] init 0;
  // Stage 0: Activation check
  [] STAGE=0 & psi_idle_nature55 & (choice4_true7_value >= 0) -> (nature55_state'=1);
  [] STAGE=0 & psi_idle_nature55 & !(choice4_true7_value >= 0) -> (nature55_state'=-1);
  // Stage 5: Nature transition firing
  [] STAGE=5 & psi_first_nature_not_idle_nature55 & nature55_state=-1 -> (nature55_state'=0);
  [] STAGE=5 & psi_first_nature_not_idle_nature55 & nature55_state=1 -> 0.7: (nature55_state'=0) & (nature5_true9_value'=0) & (choice4_true7_value'=-1) + 0.30000000000000004: (nature55_state'=0) & (nature5_false10_value'=0) & (choice4_true7_value'=-1);
endmodule

module split10
  split10_state : [-1..1] init 0;
  // Stage 0: Activation check
  [] STAGE=0 & psi_idle_split10 & (start0_value >= 0) -> (split10_state'=1);
  [] STAGE=0 & psi_idle_split10 & !(start0_value >= 0) -> (split10_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_split10 & split10_state=-1 -> (split10_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_split10 & split10_state=1 -> (split10_state'=0) & (start0_value'=-1) & (par1_first_start5_value'=0) & (par1_second_start6_value'=0);
endmodule

module task109
  task109_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task109] STAGE=0 & psi_idle_task109 & (seq8_mid11_value >= 1) -> (task109_state'=1);
  [] STAGE=0 & psi_idle_task109 & !(seq8_mid11_value >= 1) -> (task109_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task109 & task109_state=-1 -> (task109_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task109 & task109_state=1 -> (task109_state'=0) & (seq8_mid11_value'=-1) & (end1_value'=0);
endmodule

module task22
  task22_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task22] STAGE=0 & psi_idle_task22 & (par1_first_start5_value >= 3) -> (task22_state'=1);
  [] STAGE=0 & psi_idle_task22 & !(par1_first_start5_value >= 3) -> (task22_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task22 & task22_state=-1 -> (task22_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task22 & task22_state=1 -> (task22_state'=0) & (par1_first_start5_value'=-1) & (par1_first_end3_value'=0);
endmodule

module task33
  task33_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task33] STAGE=0 & psi_idle_task33 & (par1_second_start6_value >= 2) -> (task33_state'=1);
  [] STAGE=0 & psi_idle_task33 & !(par1_second_start6_value >= 2) -> (task33_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task33 & task33_state=-1 -> (task33_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task33 & task33_state=1 -> (task33_state'=0) & (par1_second_start6_value'=-1) & (par1_second_end4_value'=0);
endmodule

module task66
  task66_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task66] STAGE=0 & psi_idle_task66 & (nature5_true9_value >= 4) -> (task66_state'=1);
  [] STAGE=0 & psi_idle_task66 & !(nature5_true9_value >= 4) -> (task66_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task66 & task66_state=-1 -> (task66_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task66 & task66_state=1 -> (task66_state'=0) & (nature5_true9_value'=-1) & (end1_value'=0);
endmodule

module task77
  task77_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task77] STAGE=0 & psi_idle_task77 & (nature5_false10_value >= 2) -> (task77_state'=1);
  [] STAGE=0 & psi_idle_task77 & !(nature5_false10_value >= 2) -> (task77_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task77 & task77_state=-1 -> (task77_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task77 & task77_state=1 -> (task77_state'=0) & (nature5_false10_value'=-1) & (end1_value'=0);
endmodule

module task98
  task98_state : [-1..1] init 0;
  // Stage 0: Activation check
  [fire_task98] STAGE=0 & psi_idle_task98 & (choice4_false8_value >= 2) -> (task98_state'=1);
  [] STAGE=0 & psi_idle_task98 & !(choice4_false8_value >= 2) -> (task98_state'=-1);
  // Stage 4: Non-nature transition firing
  [] STAGE=4 & psi_first_but_nature_not_idle_task98 & task98_state=-1 -> (task98_state'=0);
  [] STAGE=4 & psi_first_but_nature_not_idle_task98 & task98_state=1 -> (task98_state'=0) & (choice4_false8_value'=-1) & (seq8_mid11_value'=0);
endmodule


rewards "impact_0"
  [fire_task22] true : 0.8;
  [fire_task33] true : 0.6;
  [fire_task66] true : 0.9;
  [fire_task77] true : 0.5;
  [fire_task98] true : 0.3;
  [fire_task109] true : 0.4;
endrewards

rewards "impact_1"
  [fire_task22] true : 0.5;
  [fire_task33] true : 0.4;
  [fire_task66] true : 0.7;
  [fire_task77] true : 0.3;
  [fire_task98] true : 0.2;
  [fire_task109] true : 0.3;
endrewards
